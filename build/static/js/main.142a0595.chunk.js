(this["webpackJsonpfanci-chat-client"]=this["webpackJsonpfanci-chat-client"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports={Room:"Room_Room__1zXI-",centerInstructions:"Room_centerInstructions__3U8cI",RoomList:"Room_RoomList__F2UT9",RoomHeader:"Room_RoomHeader__14aQ5",messageIsUsers:"Room_messageIsUsers__2HLsG",form:"Room_form__3pPci",opacityZero:"Room_opacityZero__398_O",leaveButton:"Room_leaveButton__1WH_m",BottomAnchor:"Room_BottomAnchor__3sF71"}},function(e,t,a){e.exports={Nav:"MainNav_Nav___C55w",selected:"MainNav_selected__3uRxe",Link:"MainNav_Link__2v1Wd",themeToggle:"MainNav_themeToggle__2pH9z"}},function(e,t,a){e.exports={CreateRoom:"CreateRoom_CreateRoom__CzX-a",animateIn:"CreateRoom_animateIn__12OwB",CreateRoomInfo:"CreateRoom_CreateRoomInfo__3CRPM",CreateRoomInput:"CreateRoom_CreateRoomInput__3Uns0",controls:"CreateRoom_controls__1RxTm",disabledText:"CreateRoom_disabledText__vPe3F",createRoom:"CreateRoom_createRoom__voavj",buttons:"CreateRoom_buttons__3bfCZ",ClosePopup:"CreateRoom_ClosePopup__5TFGh"}},function(e,t,a){e.exports={RoomNav:"RoomNav_RoomNav__29SLZ",roomType:"RoomNav_roomType__CYwLM",roomsList:"RoomNav_roomsList__1MGsJ",roomsListElement:"RoomNav_roomsListElement__1iaxU",ReloadIcon:"RoomNav_ReloadIcon__2gPeX",privateInfoMsg:"RoomNav_privateInfoMsg__2GjOd",addButton:"RoomNav_addButton__PvZXb"}},,,,function(e,t,a){e.exports={About:"About_About__2o60y",section:"About_section__EmVLQ",info:"About_info__1ly3E",links:"About_links__381Rr"}},,,,function(e,t,a){e.exports={Profile:"Profile_Profile__2vSJb",editProfile:"Profile_editProfile__3Kuke",buttonOpacity:"Profile_buttonOpacity__sZ-xU",opacity:"Profile_opacity__2BOMH"}},function(e,t,a){e.exports={StatusMessage:"StatusMessage_StatusMessage__VHDTl",animateInandOut:"StatusMessage_animateInandOut__1ynrM",ActiveMessage:"StatusMessage_ActiveMessage__3URUf",error:"StatusMessage_error__2SQIu",update:"StatusMessage_update__2pBJR",success:"StatusMessage_success__1yBwQ"}},,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,function(e,t,a){},,,,function(e,t,a){e.exports={RoomIconList:"RoomIconList_RoomIconList__3dIqq",RoomIconListActive:"RoomIconList_RoomIconListActive__33d_Y"}},function(e,t,a){e.exports={Icon:"IconList_Icon__2s6U-",active:"IconList_active__2XwhP"}},,,,,,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){e.exports={RoomCard:"RoomCard_RoomCard__3T7y2"}},function(e,t,a){e.exports=a.p+"media/add-icon.7decaf06.svg"},function(e,t,a){e.exports=a.p+"media/send-icon.313f1b71.svg"},function(e,t,a){e.exports={OnlineList:"OnlineList_OnlineList__1Fn-3"}},function(e,t,a){e.exports={inRoom:"OnlineCard_inRoom__3HHIc"}},function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__2O1l9",animateIn:"Backdrop_animateIn__1H1oq"}},function(e,t,a){e.exports={Rooms:"Rooms_Rooms__2KIGJ"}},function(e,t,a){e.exports={JoiningRoom:"JoiningRoom_JoiningRoom__hql7K",animateIn:"JoiningRoom_animateIn__1BLOr"}},function(e,t,a){e.exports=a.p+"media/nate-profile.180800f1.png"},function(e,t,a){e.exports={HomeInfo:"HomeInfo_HomeInfo__33g8W"}},function(e,t,a){e.exports=a.p+"media/home-graphic.b7674fa1.png"},function(e,t,a){e.exports={StatusMessages:"StatusMessages_StatusMessages__3XZI3"}},,,,function(e,t,a){e.exports=a(128)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(34),c=a.n(r),l=(a(89),a(8)),s=a(12),i=a(6),m=a(5),u=a(66),d=a.n(u),E=(a(122),a(123),a(67)),f=a(68),v=a(83),b=a(81),p=a(15),_=a.n(p),g=a(1);var h=function(e){return o.a.createElement("div",{className:_.a.Nav},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(s.c,{activeClassName:_.a.selected,to:"/home",id:"home",className:_.a.Link},o.a.createElement(g.a,{icon:["fa","home"]}))),o.a.createElement("li",null,o.a.createElement(s.c,{activeClassName:_.a.selected,to:"/profile",id:"profile",className:_.a.Link},o.a.createElement(g.a,{icon:["fa","user-cog"]}))),o.a.createElement("li",null,o.a.createElement(s.c,{activeClassName:_.a.selected,to:"/rooms",id:"rooms",className:_.a.Link},o.a.createElement(g.a,{icon:["fa","comments"]})))),o.a.createElement("div",{className:_.a.themeToggle,title:"Toggles between Light and Dark mode",onClick:e.toggleTheme},o.a.createElement(g.a,{icon:["fa","moon"]})))},R=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{click:this.props.click,toggleTheme:this.props.toggleTheme}),o.a.createElement("main",null,this.props.children))}}]),a}(n.Component),k=a(69),O=a.n(k),N=Object(m.b)((function(e){return{connectRoom:e.room}}))((function(e){var t=null;return e.connectRoom&&e.connectRoom.roomID===e.room.roomID&&(t="card-selected"),o.a.createElement("li",{title:"Click to join ".concat(e.room.roomName),className:"card ".concat(t," ").concat(O.a.RoomCard),id:e.room.roomID,key:e.room.roomID,onClick:e.clicked},o.a.createElement("div",{className:"card-online-status"}),o.a.createElement(g.a,{icon:e.room.icon}),o.a.createElement("div",{className:"card-info"},o.a.createElement("h3",null,e.room.roomName),o.a.createElement("p",null,e.room.numberOnline," Online")),e.room.private?o.a.createElement(g.a,{icon:"lock"}):null,e.room.hasSheild?o.a.createElement(g.a,{icon:"shield-alt"}):null)})),S=a(17),y=a.n(S),j=(a(32),a(64),a(33),a(44),a(70)),C=a.n(j);var I=Object(m.b)((function(e){return{rooms:e.rooms,socket:e.socket,room:e.room}}))((function(e){var t=Object(n.useState)(!0)||null,a=Object(l.a)(t,2),r=a[0],c=a[1],s=null,i=null;e.rooms&&(s=e.rooms.filter((function(e){return!1===e.private})),i=e.rooms.filter((function(e){return!0===e.private})));var m=null,u=null;function d(e){c("public"===e?function(){return!0}:function(){return!1})}function E(t){e.room?e.room.roomID!==t.roomID&&(e.socket.emit("leaveRoom",null),t.private?e.joinRoomHandler(null,!0,t):e.socket.emit("joinRoom",t.roomID)):e.room||(t.private?e.joinRoomHandler(null,!0,t):e.socket.emit("joinRoom",t.roomID))}s&&(m=s.map((function(e){return o.a.createElement(N,{room:e,clicked:function(){E(e)},key:e.roomID})}))),u=i?i.map((function(e){return o.a.createElement(N,{room:e,clicked:function(){E(e)},key:e.roomID})})):o.a.createElement("p",null,"No Private Rooms Available");var f=o.a.createElement("p",{className:y.a.privateInfoMsg},o.a.createElement(g.a,{icon:"key"}),"Private rooms need passwords to enter");return o.a.createElement("div",{className:y.a.RoomNav},o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"Chat Rooms"),o.a.createElement("button",{className:y.a.addButton,onClick:e.createRoomHandler}," Create Room ",o.a.createElement("img",{src:C.a,alt:"+"})," ")),o.a.createElement("div",{className:y.a.roomType},o.a.createElement("button",{onClick:function(){return d("public")},className:"".concat(r?"buttonActive":null," button")},o.a.createElement(g.a,{icon:"users"})," Public"),o.a.createElement("button",{onClick:function(){return d("private")},className:"".concat(r?null:"buttonActive"," button")},o.a.createElement(g.a,{icon:"lock"})," Private")),o.a.createElement("div",{className:y.a.roomsList},r?null:f,o.a.createElement("ul",{className:y.a.roomsListElement},r?m:u),o.a.createElement("div",{onClick:function(){e.socket.emit("getRooms",null)},className:y.a.ReloadIcon,title:"Update Rooms"},o.a.createElement(g.a,{icon:"sync"}))),o.a.createElement("div",{className:"infoBottom"},o.a.createElement(g.a,{icon:"shield-alt"}),o.a.createElement("p",null,"Rooms marked with this symbol are static and will never disappear")))})),M=a(14),w=a.n(M),T=function(e){return o.a.createElement("li",{className:e.isUser?w.a.messageIsUsers:""},o.a.createElement("div",{onMouseOut:function(e){e.currentTarget.parentNode.lastChild.className=""},onMouseOver:function(e){e.currentTarget.parentNode.lastChild.className=w.a.opacityZero}},o.a.createElement("p",null,e.user),o.a.createElement("p",null,e.message)),o.a.createElement("p",null,e.time))},A=a(71),U=a.n(A);var P=Object(m.b)((function(e){return{room:e.room,msgs:e.messages,socket:e.socket}}))((function(e){var t=e.msgs.map((function(e){return o.a.createElement(T,{user:e.user,message:e.message,time:e.time,isUser:e.isUser,key:e.key})})),a=o.a.createElement("h2",{className:w.a.centerInstructions},"Please select a room to join");Object(n.useEffect)((function(){e.room&&r(c)}));var r=function(e){return e.current.scrollIntoView({behavior:"smooth"})},c=Object(n.useRef)(null);return e.room&&(a=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:w.a.RoomHeader},o.a.createElement(g.a,{icon:e.room.icon}),o.a.createElement("h1",null,e.room.roomName),o.a.createElement("button",{className:"subButton ".concat(w.a.leaveButton),onClick:function(){e.socket.emit("leaveRoom",null)}},o.a.createElement(g.a,{icon:"sign-out-alt"})," Leave")),o.a.createElement("ul",{className:w.a.RoomList},t,o.a.createElement("li",{ref:c,className:w.a.BottomAnchor})),o.a.createElement("div",null,o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget[0].value;""!==a.trim(" ")&&(t.currentTarget[0].value="",e.socket.emit("sendMessage",a))},className:w.a.form},o.a.createElement("input",{type:"text",placeholder:"Type a message here..."}),o.a.createElement("button",{type:"submit"},o.a.createElement("img",{src:U.a,alt:"Send"})))))),o.a.createElement("div",{className:w.a.Room},a)})),D=a(72),L=a.n(D),x=(a(127),a(73)),H=a.n(x);var B=function(e){return o.a.createElement("li",{className:"card"},o.a.createElement("div",{className:"card-online-status"}),o.a.createElement(g.a,{icon:e.icon}),o.a.createElement("div",{className:"card-info"},o.a.createElement("h3",null,e.name)),e.inSameRoom?o.a.createElement(g.a,{className:H.a.inRoom,icon:e.inSameRoom}):null)};var G=Object(m.b)((function(e){return{name:e.name,icon:e.icon,room:e.room,users:e.users}}))((function(e){var t=e.users.map((function(t){var a=!1;return null!=t.room&&null!=e.room&&t.room.roomID===e.room.roomID&&(a=!0),o.a.createElement(B,{icon:t.icon||"user-circle",name:t.name||"Guest",inSameRoom:a?"door-open":null,key:Math.random()})}));return o.a.createElement(o.a.Fragment,null,t)}));var F=Object(m.b)((function(e){return{hiddenUsers:e.hiddenUsers}}))((function(e){return o.a.createElement("div",{className:L.a.OnlineList},o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"Users Online")),o.a.createElement("ul",null,o.a.createElement(G,null)),o.a.createElement("div",{className:"infoBottom"},o.a.createElement(g.a,{icon:"user-secret"}),o.a.createElement("p",null,"Other Hidden Online Users: ",o.a.createElement("span",null,e.hiddenUsers))))})),J=a(74),W=a.n(J),V=function(e){return o.a.createElement(o.a.Fragment,null,e.children,o.a.createElement("div",{className:W.a.Backdrop,onClick:e.click}))},Z=a(48),X=a.n(Z),q=["users","coffee","couch","code","gamepad","icons","chess-rook","book","star","biohazard"],z=function(e){var t=q.map((function(t){return o.a.createElement("div",{className:e.isSelected===t?X.a.RoomIconListActive:null,onClick:function(){return e.select(t)},key:t},o.a.createElement(g.a,{icon:t}))}));return o.a.createElement("div",{className:X.a.RoomIconList},t)},K=a(16),Q=a.n(K),Y=Object(m.b)((function(e){return{socket:e.socket}}))((function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(!1),E=Object(l.a)(d,2),f=E[0],v=E[1],b=Object(n.useState)("users"),p=Object(l.a)(b,2),_=p[0],h=p[1],R=Object(n.useRef)(null);function k(e,t){e.preventDefault(),v(t),R.current.disabled=!t}return o.a.createElement(V,{click:e.createRoomHandler},o.a.createElement("div",{className:Q.a.CreateRoom},o.a.createElement("button",{className:Q.a.ClosePopup,onClick:function(t){return e.createRoomHandler(t,!1)}},o.a.createElement(g.a,{icon:"times"})),o.a.createElement("div",{className:Q.a.CreateRoomInfo},o.a.createElement("h2",null,"Create Room"),o.a.createElement(g.a,{icon:"door-open"}),o.a.createElement("p",null,"Room is not permanent, it will delete after you leave it. Users can join public rooms and they are visible to the public. Private rooms are visible to the public but need a password to enter.")),o.a.createElement("form",null,o.a.createElement("div",{className:Q.a.CreateRoomInput},o.a.createElement("div",{className:Q.a.controls},o.a.createElement("div",null,o.a.createElement("h4",null,"Room Name:"),o.a.createElement("h4",{className:f?null:Q.a.disabledText},"Room Password:"),o.a.createElement("h4",null,"Type of room:")),o.a.createElement("div",null,o.a.createElement("input",{type:"text",placeholder:"Type a room name here...",onChange:function(e){var t=e.currentTarget.value;c(t.substr(0,18))},value:r}),o.a.createElement("input",{type:"text",placeholder:"Type password here...",onChange:function(e){var t=e.currentTarget.value;u(t.substr(0,18))},ref:R,disabled:!0,value:m}),o.a.createElement("div",{className:Q.a.buttons},o.a.createElement("button",{className:"button ".concat(f?null:"buttonActive"),onClick:function(e){return k(e,!1)}},"Public"),o.a.createElement("button",{className:"button ".concat(f?"buttonActive":null),onClick:function(e){return k(e,!0)}},"Private")))),o.a.createElement(z,{select:function(e){h(e)},isSelected:_}),o.a.createElement("div",{className:Q.a.createRoom},o.a.createElement("button",{className:"button cancelButton",onClick:function(t){return e.createRoomHandler(t,!1)}},"Cancel"),o.a.createElement("button",{className:"button",type:"submit",onClick:function(t){t.preventDefault();var a={icon:_,roomName:r,private:f};console.log(m),e.socket.emit("createRoom",a,m),e.createRoomHandler(t,!1)}},"Create Room"))))))})),$=a(75),ee=a.n($),te=a(76),ae=a.n(te),ne=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),r=a[0],c=a[1];return o.a.createElement(V,{click:e.joinRoomHandler},o.a.createElement("form",{className:ae.a.JoiningRoom},o.a.createElement("div",null,o.a.createElement("h2",null,"Joining Private Room"),o.a.createElement("h3",null,"De Boss Room")),o.a.createElement("div",null,o.a.createElement("label",null,"Room Password:"),o.a.createElement("input",{type:"text",placeholder:"Type password here...",value:r,onChange:function(e){var t=e.currentTarget.value;c(t.substr(0,18))}})),o.a.createElement("div",null,o.a.createElement("button",{className:"button cancelButton",onClick:e.joinRoomHandler},"Cancel"),o.a.createElement("button",{className:"button",onClick:function(t){return e.click(t,r)},type:"submit"},"Join"))))};var oe=Object(m.b)((function(e){return{socket:e.socket}}))((function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(null),E=Object(l.a)(d,2),f=E[0],v=E[1];function b(e,t){e.preventDefault(),c(t||!r)}function p(e,t,a){e&&e.preventDefault(),u(t||!m),a&&v(a)}return Object(n.useEffect)((function(){e.socket&&e.socket.on("successfulJoinPrivateRoom",(function(){u(!1)}))}),[e.socket]),o.a.createElement("div",{className:ee.a.Rooms},r?o.a.createElement(Y,{createRoomHandler:b}):null,m?o.a.createElement(ne,{joinRoomHandler:p,click:function(t,a){t.preventDefault(),e.socket.emit("joinRoom",f.roomID,a)},roomName:f.roomName}):null,o.a.createElement(I,{createRoomHandler:b,joinRoomHandler:p}),o.a.createElement(P,null),o.a.createElement(F,null))})),re=a(21),ce=a.n(re),le=a(77),se=a.n(le);var ie=function(){return o.a.createElement("div",{className:ce.a.About},o.a.createElement("div",{className:ce.a.section},o.a.createElement("div",{className:ce.a.info},o.a.createElement("h2",null,"Our Platform"),o.a.createElement("p",null,"A messaging platform that doesn\u2019t store any messages.  Securely chat with your friends using our platform. "),o.a.createElement("p",null,"Join Public rooms where you can meet new people or talk privately with a few friends in our private rooms.  Private rooms are created with a key and an ID. To join a private room you will need to get the key from someone in a private message."),o.a.createElement("p",null,"Our site uses cookies to store you name so when you come back your name will be the same as you left it.  Your name will be temporally stored on the Server until you disconnect.  We store your name to allow other users to view who is currently online.   "))),o.a.createElement("div",{className:ce.a.section},o.a.createElement("img",{src:se.a,alt:"Send",draggable:!1}),o.a.createElement("h1",null,"Nate Grift"),o.a.createElement("div",{className:ce.a.links},o.a.createElement("a",{href:"https://github.com/nategrift/"},o.a.createElement(g.a,{icon:["fab","github"]})),o.a.createElement("a",{href:"https://www.instagram.com/nategrift/"},o.a.createElement(g.a,{icon:["fab","instagram"]})),o.a.createElement("a",{href:"https://www.nategrift.com/"},o.a.createElement(g.a,{icon:["fa","globe-americas"]}))),o.a.createElement("p",null,"Hello, I created Fanci Chat to test my skills with web development.  The entire website was designed, coded, and created by me.  I created this website as a messaging application that wouldn\u2019t save any messages to any databases.  Everything you send is passed through server but we don\u2019t collect any information about your messages.  We only keep track of accounts for displaying users.  Thank you so much for checking out this chat program. ")),o.a.createElement(s.b,{to:"/home",className:"subButton"},"Home"))},me=a(78),ue=a.n(me),de=a(79),Ee=a.n(de);var fe=function(e){return o.a.createElement("div",{className:ue.a.HomeInfo},o.a.createElement("h3",null,"Welcome to"),o.a.createElement("h1",null,"Fanci Chat"),o.a.createElement("img",{src:Ee.a,alt:"Send",draggable:!1}),o.a.createElement("p",null,"A messaging platform that doesn\u2019t store any messages. Securely chat with your friends"),o.a.createElement(s.b,{to:"/rooms"},"Start Messaging"),o.a.createElement(s.b,{to:"home/about",className:"subButton"},"About Us"))};var ve=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.d,null,o.a.createElement(i.b,{path:e.match.url+"/about",exact:!0,component:ie}),o.a.createElement(i.b,{path:"/",component:fe})))},be=a(49),pe=a.n(be);var _e=function(e){var t=["user-circle","user-secret","user-astronaut","user-graduate","user-ninja","user-tie","angry","frown","meh","poo"].map((function(t){return o.a.createElement("button",{onClick:e.click,key:t,id:t,className:"".concat(e.icon===t?pe.a.active:null," ").concat(pe.a.Icon," button")},o.a.createElement(g.a,{icon:t}))}));return o.a.createElement(o.a.Fragment,null,t)},ge=a(25),he=a.n(ge);var Re=Object(m.b)((function(e){return{name:e.name,icon:e.icon,visable:e.visable}}))((function(e){var t,a=localStorage.getItem("visable")||!0;t="true"===a||!0===a;var r=localStorage.getItem("name")||"Guest",c=localStorage.getItem("icon")||"user-circle",s=t,i=Object(n.useState)(r),m=Object(l.a)(i,2),u=m[0],d=m[1],E=Object(n.useState)(c),f=Object(l.a)(E,2),v=f[0],b=f[1],p=Object(n.useState)(!1),_=Object(l.a)(p,2),g=_[0],h=_[1],R=Object(n.useState)(s),k=Object(l.a)(R,2),O=k[0],N=k[1];function S(e){var t;t="true"===e.currentTarget.id,N(t),y(u,v,t)}function y(t,a,n){t===e.name&&a===e.icon&&n===e.visable?h(!1):h(!0)}return o.a.createElement("div",{className:he.a.Profile},o.a.createElement("div",{className:he.a.editProfile},o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"Edit Profile")),o.a.createElement("section",null,o.a.createElement("h2",null,"Edit name:"),o.a.createElement("input",{onChange:function(e){var t=e.currentTarget.value.substr(0,18);d(t),y(t,v,O)},value:u,type:"text"}),o.a.createElement("p",null,"Our site uses cookies to store you name so when you come back your name will be the same as you left it.  Your name will be temporally stored on the Server until you disconnect.  We store your name to allow other users to view who is currently online.   ")),o.a.createElement("section",null,o.a.createElement("h2",null,"Profile visable to other users:"),o.a.createElement("div",null,o.a.createElement("button",{onClick:S,id:"true",className:"".concat(O?"buttonActive":null," button")},"Visable"),o.a.createElement("button",{onClick:S,id:"false",className:"".concat(O?null:"buttonActive"," button")},"Hidden")),o.a.createElement("p",null,"If this is turned to Hidden your account name will not be visible in side panel however in the bottom it will display the number of hidden active users.")),o.a.createElement("section",null,o.a.createElement("h2",null,"Update your Icon:"),o.a.createElement("div",{className:he.a.Icons},o.a.createElement(_e,{click:function(e){b(e.currentTarget.id),y(u,e.currentTarget.id,O)},icon:v}))),o.a.createElement("section",null,g?o.a.createElement("button",{className:"button ".concat(he.a.buttonOpacity),onClick:function(){e.clicked(u,v,O),h(!1)}},"Save"):null)),o.a.createElement(F,null))})),ke=a(80),Oe=a.n(ke),Ne=a(26),Se=a.n(Ne),ye=Object(m.b)(null,(function(e){return{removeStatusMessage:function(t){return e({type:"REMOVE_STATE_MESSAGE",statusMessage:t})}}}))((function(e){var t=null;switch(e.msg.status){case"ERROR":t=Se.a.error;break;case"SUCCESS":t=Se.a.success;break;default:t=Se.a.update}return Object(n.useEffect)((function(){var t=setTimeout((function(){e.removeStatusMessage(e.msg)}),4e3);return function(){clearInterval(t)}}),[]),o.a.createElement("div",{onClick:function(){e.removeStatusMessage(e.msg)},className:"".concat(Se.a.StatusMessage," ").concat(t)},o.a.createElement(g.a,{icon:e.msg.icon}),o.a.createElement("div",null,o.a.createElement("p",null,e.msg.title),o.a.createElement("p",null,e.msg.desc)))})),je=Object(m.b)((function(e){return{statusMessages:e.statusMessages}}))((function(e){return o.a.createElement("div",{className:Oe.a.StatusMessages},e.statusMessages?o.a.createElement(ye,{msg:e.statusMessages,key:Math.random()}):null)}));var Ce=Object(m.b)((function(e){return{socket:e.socket,name:e.name,icon:e.icon,visable:e.visable}}),(function(e){return{updateSocket:function(t){return e({type:"UPDATE_SOCKET",socket:t})},updateUsers:function(t,a){return e({type:"UPDATE_USERS",users:t,hiddenUsers:a})},updateCurrentUser:function(t,a,n){return e({type:"UPDATE_CURRENT_USER",name:t,icon:a,visable:n})},updateRooms:function(t){return e({type:"UPDATE_ROOMS",rooms:t})},updateCurrentRoom:function(t){return e({type:"UPDATE_CURRENT_ROOM",room:t})},addMessage:function(t){return e({type:"ADD_MESSAGE",message:t})},clearMessages:function(){return e({type:"CLEAR_MESSAGES"})},leaveRoom:function(){return e({type:"LEAVE_ROOM"})},addStatusMessage:function(t){return e({type:"ADD_STATUS_MESSAGE",statusMessage:t})}}}))((function(e){var t=Object(n.useState)(localStorage.getItem("theme")||"dark"),a=Object(l.a)(t,2),r=a[0],c=a[1];function m(t,a,n){var o={name:t,icon:a,visable:n};e.socket.emit("updateUser",o)}return Object(n.useEffect)((function(){var t=d()({reconnectionDelay:3e3,reconnectionDelayMax:1e4,reconnectionAttempts:50});return e.updateSocket(t),t.on("connect",(function(){var a={name:e.name,icon:e.icon,visable:e.visable};t.emit("createUser",a),t.emit("getRooms",null)})),t.on("statusMsg",(function(t){e.addStatusMessage(t)})),t.on("connect_failed",(function(){e.addStatusMessage({title:"Connection Error",desc:"Unable to connect to server",icon:"times",status:"ERROR"})})),t.on("disconnect",(function(){e.updateCurrentRoom(null),e.addStatusMessage({title:"Disconected from server",desc:"Reconnecting to server...",icon:"bell",status:"UPDATE"})})),t.on("reconnect_failed",(function(){e.addStatusMessage({title:"Connection Failed",desc:"Please try again later",icon:"times",status:"ERROR"})})),t.on("updateUsers",(function(t,a){e.updateUsers(t,a)})),t.on("updateUserState",(function(t){localStorage.setItem("name",t.name),localStorage.setItem("icon",t.icon),localStorage.setItem("visable",t.visable),e.updateCurrentUser(t.name,t.icon,t.visable)})),t.on("updateRooms",(function(t){e.updateRooms(t)})),t.on("joinedRoom",(function(t){e.updateCurrentRoom(t)})),t.on("receiveMessage",(function(t){e.addMessage(t)})),t.on("leftRoom",(function(){e.leaveRoom(),e.clearMessages(),t.emit("getRooms",null)})),function(){return t.disconnect()}}),[]),o.a.createElement(s.a,null,o.a.createElement("div",{className:"App ".concat(r)},o.a.createElement(R,{toggleTheme:function(){"light"===r?(c("dark"),localStorage.setItem("theme","dark")):(c("light"),localStorage.setItem("theme","light"))}},o.a.createElement(je,null),o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/rooms",component:oe}),o.a.createElement(i.b,{path:"/profile",exact:!0,render:function(){return o.a.createElement(Re,{clicked:m})}}),o.a.createElement(i.b,{path:"/home",component:ve}),o.a.createElement(i.a,{from:"/",to:"/home"})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie,Me=a(37),we=a(82),Te=a(7),Ae=localStorage.getItem("visable")||!0;Ie="true"===Ae||!0===Ae;var Ue={socket:null,name:localStorage.getItem("name")||"Guest",icon:localStorage.getItem("icon")||"user-circle",visable:Ie,room:null,users:[],hiddenUsers:0,rooms:null,messages:[],statusMessages:null},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SOCKET":return Object(Te.a)(Object(Te.a)({},e),{},{socket:t.socket});case"UPDATE_USERS":var a=t.users;return Object(Te.a)(Object(Te.a)({},e),{},{users:a,hiddenUsers:t.hiddenUsers});case"UPDATE_CURRENT_USER":return Object(Te.a)(Object(Te.a)({},e),{},{name:t.name,icon:t.icon,visable:t.visable});case"UPDATE_ROOMS":return Object(Te.a)(Object(Te.a)({},e),{},{rooms:t.rooms});case"UPDATE_CURRENT_ROOM":return Object(Te.a)(Object(Te.a)({},e),{},{room:t.room});case"ADD_MESSAGE":var n=Object(we.a)(e.messages);return n.push(t.message),Object(Te.a)(Object(Te.a)({},e),{},{messages:n});case"LEAVE_ROOM":return Object(Te.a)(Object(Te.a)({},e),{},{room:null});case"CLEAR_MESSAGES":var o=[];return Object(Te.a)(Object(Te.a)({},e),{},{messages:o});case"ADD_STATUS_MESSAGE":return Object(Te.a)(Object(Te.a)({},e),{},{statusMessages:t.statusMessage});case"REMOVE_STATE_MESSAGE":return Object(Te.a)(Object(Te.a)({},e),{},{statusMessages:null});default:return e}},De=a(24),Le=a(2),xe=a(50);De.b.add(Le.p,Le.i,Le.D,Le.u,Le.I,Le.s,Le.w,Le.q,Le.n,Le.d,Le.x,xe.a,xe.b,Le.o,Le.C,Le.G,Le.B,Le.E,Le.F,Le.a,Le.H,Le.t,Le.v,Le.m,Le.z,Le.l,Le.e,Le.b,Le.A,Le.r,Le.h,Le.j,Le.g,Le.f,Le.y,Le.c,Le.k);var He=Object(Me.b)(Pe);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m.a,{store:He},o.a.createElement(Ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[84,1,2]]]);
//# sourceMappingURL=main.142a0595.chunk.js.map